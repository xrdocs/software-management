

<!doctype html>
<html lang="en" class="no-js">
  <head>
    

<meta charset="utf-8">



<!-- begin SEO -->









<title>            IOS-XR users and groups inside Linux      IOS XR Software Management and ZTP @xrdocs      </title>







<meta property="og:locale" content="en-US">
<meta property="og:site_name" content="IOS XR Software Management and ZTP @xrdocs">
<meta property="og:title" content="IOS-XR users and groups inside Linux">


  <link rel="canonical" href="https://xrdocs.io/software-management/blogs/2016-10-17-ios-xr-users-and-groups-inside-linux/">
  <meta property="og:url" content="https://xrdocs.io/software-management/blogs/2016-10-17-ios-xr-users-and-groups-inside-linux/">



  <meta property="og:description" content="How IOS-XR users and groups maps to Linux">



  <meta name="twitter:site" content="@xrdocs">
  <meta name="twitter:title" content="IOS-XR users and groups inside Linux">
  <meta name="twitter:description" content="How IOS-XR users and groups maps to Linux">
  <meta name="twitter:url" content="https://xrdocs.io/blogs/2016-10-17-ios-xr-users-and-groups-inside-linux/">

  
    <meta name="twitter:card" content="summary">
    
      <meta name="twitter:image" content="https://xrdocs.io/software-management/images/packaging-xrdocs.jpg">
    
  

  
    <meta name="twitter:creator" content="@">
  



  

  





  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2016-10-17T18:46:00+00:00">
  
    <link rel="next" href="https://xrdocs.io/software-management/blogs/2016-10-20-using-ztp-to-install-puppet/" title="Using ZTP to install Puppet">
  
  
    <link rel="prev" href="https://xrdocs.io/software-management/blogs/2016-10-14-ios-xr-packages-and-security/" title="IOS-XR Packages and Security">
  



  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "url": "https://xrdocs.io/software-management",
      "logo": "https://xrdocs.io/software-management/images/packaging-xrdocs.jpg"
    }
  </script>



  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "person",
      "name" : "Cisco Systems Inc",
      "url" : "https://xrdocs.io/software-management",
      "sameAs" : ["https://twitter.com/CiscoDevNet"]
    }
  </script>






<!-- end SEO -->

<link href="https://xrdocs.io/software-management/feed.xml" type="application/atom+xml" rel="alternate" title="IOS XR Software Management and ZTP @xrdocs Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="google-site-verification" content="jgRKKm6B9FwJJPXxpmc0-EP3D0Mh8JHXaJqoYIGj1ek" />

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<script>
if (!(window.location.host.startsWith("127.0.0.1") || window.location.host.startsWith("localhost")) && (window.location.host.substr(-3) == '.io') && (window.location.protocol != "https:"))
    window.location.protocol = "https";
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/software-management/assets/css/main.css">
<meta http-equiv="cleartype" content="on">
<style>
.underline-on-hover:hover {
    text-decoration: underline;
}
.searchForm{
      border-radius:5px;
      -moz-border-radius:5px;
      -webkit-border-radius:5px;
      width: 900px;
   }
#search_results{
      display: table; margin:0 auto;
   }
</style>
</style>

    

<!-- start custom head snippets -->

<link href="https://xrdocs.io/software-management/assets/css/lity.min.css" rel="stylesheet">
<link href="https://xrdocs.io/software-management/assets/css/cisco-sans.min.css" rel="stylesheet">
<link href="https://xrdocs.io/software-management/assets/css/material-scrolltop.css" rel="stylesheet">

<link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://xrdocs.io/software-management/images/apple-touch-icon-57x57.png" />
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://xrdocs.io/software-management/images/apple-touch-icon-114x114.png" />
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://xrdocs.io/software-management/images/apple-touch-icon-72x72.png" />
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://xrdocs.io/software-management/images/apple-touch-icon-144x144.png" />
<link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://xrdocs.io/software-management/images/apple-touch-icon-60x60.png" />
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://xrdocs.io/software-management/images/apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://xrdocs.io/software-management/images/apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://xrdocs.io/software-management/images/apple-touch-icon-152x152.png" />
<link rel="icon" type="image/png" href="https://xrdocs.io/software-management/images/favicon-196x196.png" sizes="196x196" />
<link rel="icon" type="image/png" href="https://xrdocs.io/software-management/images/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/png" href="https://xrdocs.io/software-management/images/favicon-32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="https://xrdocs.io/software-management/images/favicon-16x16.png" sizes="16x16" />
<link rel="icon" type="image/png" href="https://xrdocs.io/software-management/images/favicon-128.png" sizes="128x128" />
<link rel="shortcut icon" href="https://xrdocs.io/software-management/images/favicon_cisco.ico" />
<meta name="application-name" content="&nbsp;"/>
<meta name="msapplication-TileColor" content="#FFFFFF" />
<meta name="msapplication-TileImage" content="https://xrdocs.io/software-management/images/mstile-144x144.png" />
<meta name="msapplication-square70x70logo" content="https://xrdocs.io/software-management/images/mstile-70x70.png" />
<meta name="msapplication-square150x150logo" content="https://xrdocs.io/software-management/images/mstile-150x150.png" />
<meta name="msapplication-wide310x150logo" content="https://xrdocs.io/software-management/images/mstile-310x150.png" />
<meta name="msapplication-square310x310logo" content="https://xrdocs.io/software-management/images/mstile-310x310.png" />


<!-- end custom head snippets -->

  </head>

  <body>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu" style="padding-left:2em;">
      <nav id="site-nav" class="greedy-nav">
        <button><div class="navicon"></div></button>
        <ul class="visible-links">
          <img src="https://xrdocs.io/software-management/images/xrdocs_logo.png" width="45px" height="45px" alt="xrdocs logo" style="float:left;">
          <li class="masthead__menu-item masthead__menu-item--lg"><a href="https://xrdocs.io">@xrdocs</a></li>
          <li class="masthead__menu-item"><a href="https://xrdocs.io/software-management/">Software-Management</a></li>
          
            
            
                
                    <li class="masthead__menu-item greedy-nav-active"><a href="https://xrdocs.io/software-management/blogs/">Blogs</a></li>
                
            


          
            
            
                
                    <li class="masthead__menu-item"><a href="https://xrdocs.io/software-management/tutorials/">Tutorials</a></li>
                
            


          
            
            
                
                    <li class="masthead__menu-item"><a href="https://xrdocs.io/software-management/search">Search <i class="fa fa-search" aria-hidden="true"></i></a></li>
                
            


          
            
            
                
                    <li class="masthead__menu-item"><a href="https://xrdocs.io/software-management/tags/">Tags</a></li>
                
            


          
            
            
                
                    <li class="masthead__menu-item"><a href="https://xrdocs.io/software-management/collection-archive/">Archive</a></li>
                
            


          
        </ul>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    



<div id="main" role="main">
  


  <div class="sidebar sticky">
  



<div itemscope itemtype="http://schema.org/Person">

  <div class="author__avatar">
    
    	<img src="https://xrdocs.io/software-management/images/pwariche_bio.jpg" class="author__avatar" alt="Patrick Warichet">
    
  </div>

  <div class="author__content">
    <h3 class="author__name">Patrick Warichet</h3>
    <p class="author__bio">Technical Marketing Engineer, Cisco.</p>
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
      
      
        <li><a href="mailto:pwariche@cisco.com"><i class="fa fa-fw fa-envelope-square" aria-hidden="true"></i> Email</a></li>
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
    </ul>
  </div>
  <br><button class="btn"><a href="//pdfcrowd.com/url_to_pdf/" style="color:white">Save as PDF</a></button>
</div>

  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="IOS-XR users and groups inside Linux">
    <meta itemprop="description" content="How IOS-XR users and groups maps to Linux">
    <meta itemprop="datePublished" content="October 17, 2016">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 class="page__title" itemprop="headline">IOS-XR users and groups inside Linux
</h1>
          
            <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 


  2 minutes read
</p>
          
        </header>
      

    

      <section class="page__content" itemprop="text">
        <meta http-equiv="refresh" content="0; 
url=https://xrdocs.io/device-lifecycle/blogs/2016-10-17-ios-xr-users-and-groups-inside-linux/" />

<link rel="canonical" href="https://xrdocs.io/device-lifecycle/blogs/2016-10-17-ios-xr-users-and-groups-inside-linux/" />

<aside class="sidebar__right">
<nav class="toc">
    <header><h4 class="nav__title"><i class="fa fa-table"></i> IOS-XR: Linux users and groups</h4></header>
<ul class="toc__menu" id="markdown-toc">
  <li><a href="#xr-and-linux-users" id="markdown-toc-xr-and-linux-users">XR and Linux Users</a></li>
  <li><a href="#gaining-root-privilege" id="markdown-toc-gaining-root-privilege">Gaining Root Privilege</a></li>
</ul>

  </nav>
</aside>

<h2 id="xr-and-linux-users">XR and Linux Users</h2>

<p>By default, any user created inside XR is automatically replicated including that user’s password inside Linux using a unique UID and GID.</p>

<p>This allows basic access into the Linux shell for all XR configured user, the administrator can create multiple users directly from the XR console if desired.</p>

<p>Inside Linux, nine special groups are created by default, each of these groups maps to one of the default XR groups. When the administrator creates a user belonging to one of the default XR group, that user get replicated inside Linux and added to that special Linux group. In addition, XR users that are member of certain default group are granted root access to Linux when they issue the “bash” or “run” command (see table below).</p>

<table>
  <tbody>
    <tr>
      <td><strong>XR Group</strong></td>
      <td><strong>Linux Group</strong></td>
      <td><strong>GID</strong></td>
      <td><strong>Role</strong></td>
      <td><strong>Access Linux from XR</strong></td>
    </tr>
    <tr>
      <td>cisco-support</td>
      <td>cisco-support</td>
      <td>1000</td>
      <td>Cisco support personnel tasks</td>
      <td>n/a (add-on group for root-lr users)</td>
    </tr>
    <tr>
      <td>maintenance</td>
      <td>maintenance</td>
      <td>1001</td>
      <td> </td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>netadmin</td>
      <td>netadmin</td>
      <td>1002</td>
      <td>Network administrator tasks</td>
      <td>No</td>
    </tr>
    <tr>
      <td>provisioning</td>
      <td>provisioning</td>
      <td>1003</td>
      <td> </td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>retrieve</td>
      <td>retrieval</td>
      <td>1004</td>
      <td> </td>
      <td>No</td>
    </tr>
    <tr>
      <td>root-lr</td>
      <td>root-lr</td>
      <td>1005</td>
      <td>Secure domain router administrator tasks</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>n/a</td>
      <td>root-system</td>
      <td>1006</td>
      <td>System-wide administrator tasks</td>
      <td>Compatibility with previous IOS-XR</td>
    </tr>
    <tr>
      <td>serviceadmin</td>
      <td>serviceadmin</td>
      <td>1007</td>
      <td>Service administration tasks</td>
      <td>No</td>
    </tr>
    <tr>
      <td>sysadmin</td>
      <td>sysadmin</td>
      <td>1008</td>
      <td>System administrator tasks</td>
      <td>No</td>
    </tr>
    <tr>
      <td>operator</td>
      <td>operator</td>
      <td>37</td>
      <td>Operator day-to-day tasks (demo)</td>
      <td>No</td>
    </tr>
  </tbody>
</table>

<p>In the following example, the administrator creates a user “test10” member of the maintenance group, which allow the user to enter the Linux shell as root (uid/gid: 0) via the run command, the user “test10” (uid: 1010) is member of the group “test10” (gid:1019) and secondary group maintenance (gid:1001)</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RP/0/RP0/CPU0:pod-rtr(config)#username test10 group maintenance
RP/0/RP0/CPU0:pod-rtr(config)#username test10 password test10
RP/0/RP0/CPU0:pod-rtr(config)#commit
RP/0/RP0/CPU0:pod-rtr(config)#end
RP/0/RP0/CPU0:pod-rtr#exit
...
Username: test10
Password:
RP/0/RP0/CPU0:pod-rtr#bash
Tue Mar 29 03:06:41.759 UTC

[xr-vm_node0_RP0_CPU0:~]$id
uid=0(root) gid=0(root) groups=0(root)
[xr-vm_node0_RP0_CPU0:~]$id test10
uid=1010(test10) gid=1019(test10) groups=1019(test10),1001(maintenance)
</code></pre></div></div>

<h2 id="gaining-root-privilege">Gaining Root Privilege</h2>

<p>Inside Linux the file /etc/sudoers only allows root to do everything on any machine as any user <code class="highlighter-rouge">"root ALL=(ALL) ALL"</code>. No other user can gain root privilege by default, The administrator will have to modify the /etc/sudoers as root to allow other users to gain root access via the sudo command.</p>

<p>These measures ensure that only the users with access to the “run” or “bash” command can create initial users in the Linux shell and provide sudo access.</p>

<p>A common practice is to allow all members of the sudo group (GID: 27) root privileges. This is done by un-commenting the line <code class="highlighter-rouge">"#%sudo ALL=(ALL) ALL"</code> as root in the “/etc/sudoers” file and add users to the sudo group.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[xr-vm_node0_RP0_CPU0:~]$usermod -a -G sudo test10
[xr-vm_node0_RP0_CPU0:~]$id test10
uid=1010(test10) gid=1019(test10) groups=1019(test10),27(sudo),1001(maintenance)
</code></pre></div></div>

<p>After the line has been modified any user member of the sudo group can gain root privilege using the sudo command. Sudo logs each command, providing a clear audit trail of who did what, Sudo uses timestamp files to implement a “ticketing” system. When a user invokes sudo and enters their password, they are granted a ticket for 5 minutes. for more information on sudoers visit <a href="https://www.sudo.ws/sudo.html" title="sudo main page">sudo main page</a></p>

<hr />
<p><strong>Update:</strong> Since 6.1.1 All members of the the sudo group can gain root privilege using “sudo” by default.</p>

<hr />

        
      </section>

      <footer class="page__meta">
        
        




  
  
  

  <p class="page__taxonomy">
    <strong><i class="fa fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="https://xrdocs.io/software-management/tags/#cisco" class="page__taxonomy-item" rel="tag">cisco</a><span class="sep">, </span>
    
      
      
      <a href="https://xrdocs.io/software-management/tags/#iosxr" class="page__taxonomy-item" rel="tag">iosxr</a><span class="sep">, </span>
    
      
      
      <a href="https://xrdocs.io/software-management/tags/#linux" class="page__taxonomy-item" rel="tag">linux</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Updated:</strong> <time datetime="2016-10-17T18:46:00+00:00">October 17, 2016</time></p>
        
      </footer>

      

<section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?text=https://xrdocs.io/software-management/blogs/2016-10-17-ios-xr-users-and-groups-inside-linux/" class="btn btn--twitter" title="Share on Twitter"><i class="fa fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https://xrdocs.io/software-management/blogs/2016-10-17-ios-xr-users-and-groups-inside-linux/" class="btn btn--facebook" title="Share on Facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://plus.google.com/share?url=https://xrdocs.io/software-management/blogs/2016-10-17-ios-xr-users-and-groups-inside-linux/" class="btn btn--google-plus" title="Share on Google Plus"><i class="fa fa-fw fa-google-plus" aria-hidden="true"></i><span> Google+</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://xrdocs.io/software-management/blogs/2016-10-17-ios-xr-users-and-groups-inside-linux/" class="btn btn--linkedin" title="Share on LinkedIn"><i class="fa fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>

    <br>
    <br>
    <br>
</section>


    </div>

    
      

<div class="page__comments">
  <h4 class="page__comments-title">Leave a Comment</h4>
  
    <section id="disqus_thread"></section>
  
</div>
    
  </article>

  
  
</div>


    <div class="page__footer">
      <footer>
        

<div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
      <li><a href="https://twitter.com/xrdocs"><i class="fa fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
    
    
    
      <li><a href="http://github.com/xrdocs"><i class="fa fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
    <li><a href="https://xrdocs.io/software-management/feed.xml"><i class="fa fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">This site is maintained by Cisco Systems, Inc. employees. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    <script src="https://xrdocs.io/software-management/assets/js/main.min.js"></script>
<script src="https://xrdocs.io/software-management/assets/js/scrollmenu.js"></script>




  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-78256516-1', 'auto');
  ga('send', 'pageview');
</script>






  
  <script type="text/javascript">
  	/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  	var disqus_shortname = 'xrdocs';

  	/* * * DON'T EDIT BELOW THIS LINE * * */
  	(function() {
  		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  	})();

  	/* * * DON'T EDIT BELOW THIS LINE * * */
  	(function () {
  		var s = document.createElement('script'); s.async = true;
  		s.type = 'text/javascript';
  		s.src = '//' + disqus_shortname + '.disqus.com/count.js';
  		(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  	}());
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>






<!-- material-scrolltop button -->
<button class="material-scrolltop" type="button"></button>

<!-- material-scrolltop plugin -->
<script src="https://xrdocs.io/software-management/assets/js/material-scrolltop.js"></script>

<!-- Initialize material-scrolltop with (minimal) -->
<script>
    $('body').materialScrollTop();
</script>


  </body>
</html>

